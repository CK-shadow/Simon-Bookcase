---
title: 模板
tags: 
 - Template
categories: frontEnd
---


### 模板
模板是一种"python + html"的网页格式，允许在html文件中定义变量，定义流程控制，使用模板可以使视图函数专注于处理业务逻辑，将页面渲染交给模板控制
    
**使用**
1. 导入render_template
2. 在视图函数中使用render_template("模板文件")，生成模板字符串，交由浏览器解析
3. 所有模板文件必须存在名为"templates"的文件夹下
        
**变量代码块**
1. 模板中使用变量，语法
```python
{{变量名(key)}}
```
2. 从视图函数中获取相关的变量，传递到模板文件中
   * return render_template("模板文件", key1=value1, key2=value2)
   * 函数中可以传递若干键值对，其中的key名就是在模板文件中使用的变量名
3. 使用locals()返回字典，包含所有变量
4. 过滤器
   * 允许模块中的变量在输出之前修改成其他的值，修改显示
   * 分类：
     * upper  &emsp;  转大写字母
     * lower &emsp;   转小写字母
     * title  &emsp;  首字母大写
     * first  &emsp;  获取列表中的第一个
     * last   &emsp; 获取列表中的最后一个
     * length  &emsp;  获取列表长度
     * default  &emsp;  如果变量未赋值，可以采用默认值
     * trim   &emsp; 去掉字符串两端的空格
     * ...
   * 语法：
     * {{变量|过滤器1|过滤器2}}
                
**控制代码块**   
在模板文件中书写条件语句和循环语句：使用{% %}
1. if语句
   * {% if 条件1 %}
   * {% elif 条件2 %}
   * ..
   * {% else %}
   * {% endif %}
2. for语句
   * {% for 变量 in 可迭代元素 %}
   * ...
   * {% endfor %}
            
**循环的内部变量 &emsp; loop**  
直接在循环内部使用，代表与本次循环相关的信息    
常用属性    
loop.index  &emsp; 代表当前循环次数，默认从1开始  
loop.index0  &emsp; 代表当前循环次数，从0开始  
loop.first  &emsp; 表示是否为第一次循环，值为true时表示为第一次循环  
loop.last  &emsp; 表示为是否为最后一个循环  
                    
**静态文件**  
1. 不与服务器交互的文件都是静态文件(CSS、JS、音频、视频等)  
2. 所有的静态文件都必须存储在一个名为"static"的文件夹下，Flask会自动寻找  
3. 静态文件的访问：必须使用"/static/子路径"进行访问  
4. url_for("视图函数名")实现反向解析路由：根据指定的视图函数返回对应的地址  
        
**模板的继承（与类的继承相似）**   
* 如果两个页面中大部分内容与结构都一致，可以采用模板继承  
* 实现：
```python
1.父模板
    指定可以被子模板重写的内容
    {% block 块名 %}
    	<h1>父模板</h1>
    {% endblock %}

2.子模板中继承父模板
    {% extends "父模板名称"%}

3.子模板中可以重写父模板中指定块的内容
    {% block 块名 %}
    	<h1>子模板</h1>
    {% endblock %}
```

