---
title: 工厂方法模式
tags: 
 - 设计模式
 - 工厂方法模式
categories: frontEnd
---

>定义一个用于创建对象的接口，让子类决定实例化哪一个类。工厂方法模式使一个类的实例化延迟到其子类
## 设计原则
【设计原则6】：**要依赖抽象，不要依赖具体类**  
不能让高层组件（由其他低层组件定义其行为的类）依赖底层组件，而且，不管高层组件或底层组件，两者都应该依赖于抽象

## 工厂方法模式
1. **何时使用**  
不同条件下创建不用实例时。方法是让子类实现工厂接口
2. **优点**  
* 良好的封装性，代码结构清晰。如一个调用者想创建一个对象，只需要知道其名称即可，降低了模块间的耦合
* 扩展性好。如果想增加一个产品，只需扩展一个工厂类即可
* 屏蔽产品类。调用者只关心产品的接口
* 典型的解耦框架
3. **缺点**  
每增加一个产品，就需要增加一个产品工厂的类，增加了系统的复杂度
4. **使用场景**  
* 需要生成对象的地方
* 需要灵活的、可扩展的框架时
* 数据库访问，数据库可能变化时

## 简单工厂模式的实现
简单工厂模式就是用一个单独的类来做创造实例的过程，这个类就是工厂  
以简单计算器的实现为例，这里只给出部分代码用于与工厂方法模式做对比  
![](../../.vuepress/public/img/202004012100.png)  
```java
public class OperationFactory {
    public static Operation createOperate(String operate) {
        Operation oper = null;
        switch(operate) {
            case "+":
                oper = new OperationAdd();
                break;
            case "-":
                oper = new OperationSub();
                break;
            case "*":
                oper = new OperationMul();
                break;
            case "/":
                oper = new OperationDiv();
                break;
        }
        return oper;
    }
}
```