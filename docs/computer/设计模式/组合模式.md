---
title: 组合模式
tags: 
 - 设计模式
 - 组合模式
categories: frontEnd
---

> 允许你将对象组合成树形结构来表现“整体/部分”层次结构。组合能让客户以一致的方式处理个别对象以及对象组合

## 组合模式简介
组合模式让我们能用树形方式创建对象的结构，树里面包含了组合以及个别的对象。使用组合结构，我们能把相同的操作应用在组合和个别对象上；换句话说，在大多数情况下，我们可以忽略对象组合和个别对象之间的差异

&emsp;  
当我们的案例是树形结构或者是部分-整体的关系时，就可以考虑使用组合模式。组合模式有两种不同的实现，分别为透明模式和安全模式

## 组合模式
1. **意图**
将对象组合成树形结构以表示"部分-整体"的层次结构。组合模式使得用户对单个对象和组合对象的使用具有一致性
2. **主要解决**  
它在我们树型结构的问题中，模糊了简单元素和复杂元素的概念，客户程序可以像处理简单元素一样来处理复杂元素，从而使得客户程序与复杂元素的内部结构解耦
3. **何时使用**  
   * 您想表示对象的部分-整体层次结构（树形结构）
   * 您希望用户忽略组合对象与单个对象的不同，用户将统一地使用组合结构中的所有对象
4. **如何解决**  
树枝和叶子实现统一接口，树枝内部组合该接口
5. **关键代码**  
树枝内部组合该接口，并且含有内部属性List，里面放Component
6. **优点**  
   * 高层模块调用简单
   * 节点自由增加
7. **缺点**  
在使用组合模式时，其叶子和树枝的声明都是实现类，而不是接口，违反了依赖倒置原则
8. **注意事项**  
定义时为具体类