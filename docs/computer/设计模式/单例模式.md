---
title: 单例模式
tags: 
 - 设计模式
 - 单例模式
categories: frontEnd
---

>保证一个类仅有一个实例，并提供一个访问它的全局访问点

## 简单的单例模式
![](../../.vuepress/public/img/202004041426.png)  
其中，Singleton类定义了一个getInstance操作，允许客户端访问它的唯一实例，getInstance是一个静态方法，主要负责创建自己的唯一实例。而对象的声明是private的，其他类无法访问到，只能通过getInstance()方法访问其唯一实例  

&emsp;  
**注意**  
1. 单例类只能有一个实例
2. 单例类必须自己创建自己的唯一实例
3. 单例类必须给所有其他对象提供这一实例

```java
public class Singleton {

    private static Singleton instance;
    
    //限制产生多个对象
    private Singleton() {
    }
    
    //通过方法获取实例对象
    public static Singleton getInstance() {
        if(instance == null) {
            instance = new Singleton();
        }
        
        return instance;
    }
    
}
```

## 单例模式
1. **意图**  
保证一个类仅有一个实例，并提供一个访问它的全局访问点
2. **主要解决**  
一个全局使用的类频繁地创建与销毁
3. **何时使用**  
当您想控制实例数目，节省系统资源的时候
4. **如何解决**  
判断系统是否已经有这个单例，如果有则返回，如果没有则创建
5. **关键代码**  
构造函数是私有的
6. **优点**  
   *   在内存里只有一个实例，减少了内存的开销，尤其是频繁的创建和销毁实例
   *   避免对资源的多重占用
7. **缺点**  
没有接口，不能继承，与单一职责原则冲突，一个类应该只关心内部逻辑，而不关心外面怎么样来实例化
8. **注意事项**  
getInstance()方法中需要使用同步锁synchronized (Singleton.class)防止多线程同时进入造成instance被多次实例化