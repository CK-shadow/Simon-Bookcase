---
title: 可靠的数据传递
tags: 
 - Kafka
categories: frontEnd
---

## 可靠性保证
可靠性保证指的是指确保系统在各种不同的环境下能够发生一致的行为

&emsp;  
Kafka的保证机制有：
* Kafka可以保证分区消息的顺序。如果使用同一个生产者往同一个分区写入消息，而且消息B在消息A之后写入，那么Kafka可以保证消息B的偏移量比消息A的偏移量大，而且消费者会先读取消息A再读取消息B
* 只有当消息被写入分区的所有同步副本时（但不一定要写入磁盘），它才被认为是"已提交"的。生产者可以选择接收不同类型的确认，比如在消息被完全提交时的确认，或者在消息被写入首领副本时的确认，或者在消息被发送到网络时的确认
* 只要还有一个副本是活跃的，那么已经提交的消息就不会丢失
* 消费者只能读取已经提交的消息

这些基本的保证机制可以用来构建可靠的系统，但仅仅依赖它们是无法保证系统完全可靠的。构建一个可靠的系统需要作出一些权衡，Kafka管理员和开发者可以在配置参数上作出权衡，从而得到他们想要达到的可靠性。这种权衡一般是指消息存储的可靠性和一致性的重要程度与可用性、高吞吐量、低延迟和硬件成本的重要程度之间的权衡