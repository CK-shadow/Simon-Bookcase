{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[148],{619:function(s,n,a){\"use strict\";a.r(n);var t=a(0),r=Object(t.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[a(\"h3\",{attrs:{id:\"模型\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#模型\"}},[s._v(\"#\")]),s._v(\" 模型\")]),s._v(\" \"),a(\"p\",[s._v(\"定义：模型--根据数据库表结构创建出来的class\")]),s._v(\" \"),a(\"p\",[a(\"strong\",[s._v(\"模型框架 ORM\")]),a(\"br\"),s._v(\"\\nORM -- Object Relational Mapping\"),a(\"br\"),s._v(\"\\n 中文名：对象关系映射\"),a(\"br\"),s._v(\"\\nORM三大特征\"),a(\"br\"),s._v(\"\\n 数据库表到编程类的映射\"),a(\"br\"),s._v(\"\\n 数据类型的映射\"),a(\"br\"),s._v(\"\\n 关系的映射（将数据库表中表与表之间的关系映射到编程语言中类与类的关系）\"),a(\"br\"),s._v(\"\\nORM的优点\"),a(\"br\"),s._v(\"\\n 封装操作提升效率\"),a(\"br\"),s._v(\"\\n 省略庞大的数据访问层\")]),s._v(\" \"),a(\"p\",[a(\"strong\",[s._v(\"Flask中的ORM框架\")]),a(\"br\"),s._v(\"\\nSQLAlchemy\"),a(\"br\"),s._v(\"\\n 安装SQLAlchemy  pip3 install sqlalchemy\"),a(\"br\"),s._v(\"\\n Flask中需要使用flask-sqlalchemy支持包  pip3 install flask-sqlalchemy\\n 查看已安装的包 pip3 list\"),a(\"br\"),s._v(\"\\n创建数据库\"),a(\"br\"),s._v(\"\\n Flask中配置数据库\"),a(\"br\"),s._v(\"\\n  语法：app.config['SQLALCHEMY_DATABASE_URI']=\\\"mysql://用户名:密码@数据库服务器地址:端口号/数据库名称\\\"\")]),s._v(\" \"),a(\"p\",[a(\"strong\",[s._v(\"定义模型\")]),a(\"br\"),s._v(\"\\n作用\"),a(\"br\"),s._v(\"\\n 通过编写模型类的方式，让程序自动生成数据库表，模型类也称为实体类\"),a(\"br\"),s._v(\"\\n语法\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-python line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-python\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"class\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[s._v(\"MODELNAME\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"db\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),s._v(\"Model\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n    __tablename__ \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"TABLENAME\"')]),s._v(\"\\n    COLUMN_NAME \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\" db\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),s._v(\"Column\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"db\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),s._v(\"TYPE\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\",\")]),s._v(\"OPTIONS\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),s._v(\"\\n    \\n\"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"1.\")]),s._v(\"MODELNAME\\n    定义模型类名称\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\",\")]),s._v(\"参考表名\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"2.\")]),s._v(\"TABLENAME\\n    指定要映射到的表名\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\",\")]),s._v(\"如果表不存在的话，则创建表\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"3.\")]),s._v(\"COLUMN_NAME\\n    属性名\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\",\")]),s._v(\"映射到数据表中就是列名\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"4.\")]),s._v(\"TYPE\\n    映射到列的数据类型\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"5.\")]),s._v(\"OPTIONS\\n    列选项\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),a(\"br\")])]),a(\"p\",[a(\"strong\",[s._v(\"数据库迁移\")]),a(\"br\"),s._v(\"\\n数据库迁移\"),a(\"br\"),s._v(\"\\n 将实体类的改动再映射回数据库\"),a(\"br\"),s._v(\"\\n依赖于第三方库\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-python line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-python\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"1.\")]),s._v(\"flask\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"-\")]),s._v(\"script\\n    安装\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" pip3 install flask\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"-\")]),s._v(\"script\\n    包\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"flask_script\\n    类\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"Manager\\n    作用\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"对项目进行管理 ，启动项目\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\",\")]),s._v(\"为项目增加管理指令\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"2.\")]),s._v(\"flask\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"-\")]),s._v(\"migrate\\n    安装\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" pip3 install flask\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"-\")]),s._v(\"migrate\\n    包\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"flask_migrate\\n    类\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n        \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"1.\")]),s._v(\"Migrate\\n        作用\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"协调app 和 db 之间的关系\\n        \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"2.\")]),s._v(\"MigrateCommand\\n        作用\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"在终端中提供实体类迁移的指令\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"3\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),s._v(\" python3 run01\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),s._v(\"py db \\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"1.\")]),s._v(\"init\\n        作用\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"执行项目和数据库的初始化操作\\n        特点\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"一个项目中只执行一次即可\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"2.\")]),s._v(\"migrate\\n        作用\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"将编辑好的实体类生成一个中间文件并保存\\n        特点\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"只要检测到实体类有更改\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\",\")]),s._v(\"就会生成中间文件\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"3.\")]),s._v(\"upgrade\\n        作用\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"将中间文件映射回数据库\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"19\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"20\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"21\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"22\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"23\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"24\")]),a(\"br\")])])])}),[],!1,null,null,null);n.default=r.exports}}]);","extractedComments":[]}